// Code generated by eugene. DO NOT EDIT.
package {{ .Package }}

import (
	"context"
	"encoding/json"
	"net/http"
)

{{- /* Generate request types for each operation */ -}}
{{ range .Operations }}
{{- if or .PathParams .QueryParams .HeaderParams .RequestBody }}
// {{ .ID }}RequestObject represents the request for {{ .ID }}.
type {{ .ID }}RequestObject struct {
{{- range .PathParams }}
	{{ .GoName }} {{ .Type }} // path parameter
{{- end }}
{{- range .QueryParams }}
	{{ .GoName }} {{ if not .Required }}*{{ end }}{{ .Type }} // query parameter
{{- end }}
{{- range .HeaderParams }}
	{{ .GoName }} {{ if not .Required }}*{{ end }}{{ .Type }} // header parameter
{{- end }}
{{- if .RequestBody }}
	Body {{ if not .RequestBody.Required }}*{{ end }}{{ .RequestBody.Type }}
{{- end }}
}
{{ end }}
{{- end }}

{{- /* Generate response interfaces and concrete types */ -}}
{{ range .Operations }}
{{- $op := . -}}
// {{ .ID }}ResponseObject is the interface for {{ .ID }} responses.
type {{ .ID }}ResponseObject interface {
	Visit{{ .ID }}ResponseObject(w http.ResponseWriter) error
}
{{ range .Responses }}
{{- if .Type }}
{{- if eq .Type "any" }}
// {{ $op.ID }}{{ .StatusCode }}JSONResponse is the response for {{ $op.ID }} with status {{ .StatusCode }}.
type {{ $op.ID }}{{ .StatusCode }}JSONResponse struct {
	Body any
}

func (r {{ $op.ID }}{{ .StatusCode }}JSONResponse) Visit{{ $op.ID }}ResponseObject(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader({{ .StatusCode | statusCodeInt }})
	return json.NewEncoder(w).Encode(r.Body)
}
{{- else }}
// {{ $op.ID }}{{ .StatusCode }}JSONResponse is the response for {{ $op.ID }} with status {{ .StatusCode }}.
type {{ $op.ID }}{{ .StatusCode }}JSONResponse {{ .Type }}

func (r {{ $op.ID }}{{ .StatusCode }}JSONResponse) Visit{{ $op.ID }}ResponseObject(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader({{ .StatusCode | statusCodeInt }})
	return json.NewEncoder(w).Encode(r)
}
{{- end }}
{{ else }}
// {{ $op.ID }}{{ .StatusCode }}Response is the response for {{ $op.ID }} with status {{ .StatusCode }}.
type {{ $op.ID }}{{ .StatusCode }}Response struct{}

func (r {{ $op.ID }}{{ .StatusCode }}Response) Visit{{ $op.ID }}ResponseObject(w http.ResponseWriter) error {
	w.WriteHeader({{ .StatusCode | statusCodeInt }})
	return nil
}
{{ end }}
{{- end }}
{{ end }}

// StrictServerInterface is the strict server interface with typed request/response.
type StrictServerInterface interface {
{{- range .Operations }}
	// {{ .ID }}{{ if .Summary }} - {{ .Summary }}{{ end }}
	{{ .ID }}(ctx context.Context{{ if or .PathParams .QueryParams .HeaderParams .RequestBody }}, request {{ .ID }}RequestObject{{ end }}) ({{ .ID }}ResponseObject, error)
{{- end }}
}
