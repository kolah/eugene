// Code generated by eugene. DO NOT EDIT.
package gen

import (
	"mime/multipart"
	"net/http"

	"github.com/labstack/echo/v4"
)

type EchoFormFormRequest struct {
	Field1 string   `form:"field1"`
	Field2 string   `form:"field2"`
	Tags   []string `form:"tags"`
}

type EchoMultipartMultipartRequest struct {
	File        *multipart.FileHeader `form:"file"`
	Description string                `form:"description"`
}

type GetItemQueryParams struct {
	Filter *string `query:"filter"`
}

type ServerInterface interface {
	// EchoJSON
	EchoJSON(ctx echo.Context) error
	// EchoForm
	EchoForm(ctx echo.Context, req EchoFormFormRequest) error
	// EchoMultipart
	EchoMultipart(ctx echo.Context, req EchoMultipartMultipartRequest) error
	// GetItem
	GetItem(ctx echo.Context, id string, params GetItemQueryParams) error
	// CreateResource
	CreateResource(ctx echo.Context) error
	// DeleteResource
	DeleteResource(ctx echo.Context, id string) error
	// GetSession
	GetSession(ctx echo.Context) error
	// GetSecureData
	GetSecureData(ctx echo.Context) error
	// CreateShape
	CreateShape(ctx echo.Context) error
}

type ServerInterfaceWrapper struct {
	Handler ServerInterface
}

func (w *ServerInterfaceWrapper) EchoJSON(ctx echo.Context) error {
	return w.Handler.EchoJSON(ctx)
}

func (w *ServerInterfaceWrapper) EchoForm(ctx echo.Context) error {
	var req EchoFormFormRequest
	if err := ctx.Request().ParseForm(); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, "failed to parse form")
	}
	req.Field1 = ctx.FormValue("field1")
	req.Field2 = ctx.FormValue("field2")
	req.Tags = ctx.Request().Form["tags"]
	return w.Handler.EchoForm(ctx, req)
}

func (w *ServerInterfaceWrapper) EchoMultipart(ctx echo.Context) error {
	var req EchoMultipartMultipartRequest
	if err := ctx.Request().ParseMultipartForm(32 << 20); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, "failed to parse multipart form")
	}
	if file, err := ctx.FormFile("file"); err == nil {
		req.File = file
	}
	req.Description = ctx.FormValue("description")
	return w.Handler.EchoMultipart(ctx, req)
}

func (w *ServerInterfaceWrapper) GetItem(ctx echo.Context) error {
	id := ctx.Param("id")
	var params GetItemQueryParams
	if err := ctx.Bind(&params); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, "invalid query parameters")
	}
	return w.Handler.GetItem(ctx, id, params)
}

func (w *ServerInterfaceWrapper) CreateResource(ctx echo.Context) error {
	return w.Handler.CreateResource(ctx)
}

func (w *ServerInterfaceWrapper) DeleteResource(ctx echo.Context) error {
	id := ctx.Param("id")
	return w.Handler.DeleteResource(ctx, id)
}

func (w *ServerInterfaceWrapper) GetSession(ctx echo.Context) error {
	return w.Handler.GetSession(ctx)
}

func (w *ServerInterfaceWrapper) GetSecureData(ctx echo.Context) error {
	return w.Handler.GetSecureData(ctx)
}

func (w *ServerInterfaceWrapper) CreateShape(ctx echo.Context) error {
	return w.Handler.CreateShape(ctx)
}

func RegisterHandlers(router Router, si ServerInterface) {
	wrapper := &ServerInterfaceWrapper{Handler: si}

	router.POST("/echo/json", wrapper.EchoJSON)
	router.POST("/echo/form", wrapper.EchoForm)
	router.POST("/echo/multipart", wrapper.EchoMultipart)
	router.GET("/items/:id", wrapper.GetItem)
	router.POST("/resources", wrapper.CreateResource)
	router.DELETE("/resources/:id", wrapper.DeleteResource)
	router.GET("/session", wrapper.GetSession)
	router.GET("/secure/data", wrapper.GetSecureData)
	router.POST("/shapes", wrapper.CreateShape)
}

func RegisterHandlersWithBaseURL(router Router, si ServerInterface, baseURL string) {
	wrapper := &ServerInterfaceWrapper{Handler: si}

	router.POST(baseURL+"/echo/json", wrapper.EchoJSON)
	router.POST(baseURL+"/echo/form", wrapper.EchoForm)
	router.POST(baseURL+"/echo/multipart", wrapper.EchoMultipart)
	router.GET(baseURL+"/items/:id", wrapper.GetItem)
	router.POST(baseURL+"/resources", wrapper.CreateResource)
	router.DELETE(baseURL+"/resources/:id", wrapper.DeleteResource)
	router.GET(baseURL+"/session", wrapper.GetSession)
	router.GET(baseURL+"/secure/data", wrapper.GetSecureData)
	router.POST(baseURL+"/shapes", wrapper.CreateShape)
}
