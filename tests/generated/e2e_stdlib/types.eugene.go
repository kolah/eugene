// Code generated by eugene. DO NOT EDIT.
package gen

import (
	"encoding/json"
	"fmt"
)

type EchoPayload struct {
	Message string            `json:"message"`
	Number  *int              `json:"number,omitempty"`
	Nested  EchoPayloadNested `json:"nested,omitempty"`
}

type FormEchoResponse struct {
	ReceivedField1 *string  `json:"receivedField1,omitempty"`
	ReceivedField2 *int     `json:"receivedField2,omitempty"`
	ReceivedTags   []string `json:"receivedTags,omitempty"`
}

type FileEchoResponse struct {
	Filename    *string `json:"filename,omitempty"`
	Size        *int    `json:"size,omitempty"`
	Description *string `json:"description,omitempty"`
}

type ItemWithParams struct {
	ID        *string `json:"id,omitempty"`
	Filter    *string `json:"filter,omitempty"`
	RequestID *string `json:"requestId,omitempty"`
}

type ErrorResponse struct {
	Code    *string `json:"code,omitempty"`
	Message *string `json:"message,omitempty"`
}

type Status string

type NewResource struct {
	Name        string  `json:"name"`
	Status      *Status `json:"status,omitempty"`
	Description *string `json:"description,omitempty"`
}

type Resource struct {
	ID          *string `json:"id,omitempty"`
	Name        *string `json:"name,omitempty"`
	Status      *Status `json:"status,omitempty"`
	Description *string `json:"description,omitempty"`
}

type SessionInfo struct {
	SessionID *string `json:"sessionId,omitempty"`
	UserID    *string `json:"userId,omitempty"`
	ExpiresAt *string `json:"expiresAt,omitempty"`
}

type SecureData struct {
	Secret      *string `json:"secret,omitempty"`
	AccessLevel *string `json:"accessLevel,omitempty"`
}

type Circle struct {
	Type   string  `json:"type"`
	Radius float64 `json:"radius"`
}

type Rectangle struct {
	Type   string  `json:"type"`
	Width  float64 `json:"width"`
	Height float64 `json:"height"`
}

type EchoPayloadNested struct {
	Value *string `json:"value,omitempty"`
}
type Shape struct {
	Type string          `json:"-"`
	Raw  json.RawMessage `json:"-"`
}

func (u *Shape) UnmarshalJSON(data []byte) error {
	var d struct {
		Type string `json:"type"`
	}
	if err := json.Unmarshal(data, &d); err != nil {
		return err
	}
	u.Type = d.Type
	u.Raw = data
	return nil
}

func (u Shape) MarshalJSON() ([]byte, error) {
	return u.Raw, nil
}

func (u *Shape) AsCircle() (*Circle, error) {
	if u.Type != "circle" {
		return nil, fmt.Errorf("not a Circle, type is %s", u.Type)
	}
	var v Circle
	if err := json.Unmarshal(u.Raw, &v); err != nil {
		return nil, err
	}
	return &v, nil
}

func (u *Shape) AsRectangle() (*Rectangle, error) {
	if u.Type != "rectangle" {
		return nil, fmt.Errorf("not a Rectangle, type is %s", u.Type)
	}
	var v Rectangle
	if err := json.Unmarshal(u.Raw, &v); err != nil {
		return nil, err
	}
	return &v, nil
}

const (
	StatusPending   Status = "pending"
	StatusActive    Status = "active"
	StatusCompleted Status = "completed"
)
