// Code generated by eugene. DO NOT EDIT.
package gen

import (
	"net/http"

	"github.com/labstack/echo/v4"
)

// StrictEchoHandler wraps a StrictServerInterface to handle Echo requests.
type StrictEchoHandler struct {
	ssi StrictServerInterface
}

// NewStrictHandler creates a new StrictEchoHandler.
func NewStrictHandler(ssi StrictServerInterface) *StrictEchoHandler {
	return &StrictEchoHandler{ssi: ssi}
}

// EchoJSON handles POST /echo/json
func (h *StrictEchoHandler) EchoJSON(ctx echo.Context) error {
	var request EchoJSONRequestObject
	var body EchoPayload
	if err := ctx.Bind(&body); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, err.Error())
	}
	request.Body = body

	response, err := h.ssi.EchoJSON(ctx.Request().Context(), request)
	if err != nil {
		return err
	}

	return response.VisitEchoJSONResponseObject(ctx.Response().Writer)
}

// EchoForm handles POST /echo/form
func (h *StrictEchoHandler) EchoForm(ctx echo.Context) error {
	var request EchoFormRequestObject
	var body any
	if err := ctx.Bind(&body); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, err.Error())
	}
	request.Body = body

	response, err := h.ssi.EchoForm(ctx.Request().Context(), request)
	if err != nil {
		return err
	}

	return response.VisitEchoFormResponseObject(ctx.Response().Writer)
}

// EchoMultipart handles POST /echo/multipart
func (h *StrictEchoHandler) EchoMultipart(ctx echo.Context) error {
	var request EchoMultipartRequestObject
	var body any
	if err := ctx.Bind(&body); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, err.Error())
	}
	request.Body = body

	response, err := h.ssi.EchoMultipart(ctx.Request().Context(), request)
	if err != nil {
		return err
	}

	return response.VisitEchoMultipartResponseObject(ctx.Response().Writer)
}

// GetItem handles GET /items/{id}
func (h *StrictEchoHandler) GetItem(ctx echo.Context) error {
	var request GetItemRequestObject
	request.ID = ctx.Param("id")
	if v := ctx.QueryParam("filter"); v != "" {
		request.Filter = &v
	}
	if v := ctx.Request().Header.Get("X-Request-ID"); v != "" {
		request.XRequestID = &v
	}

	response, err := h.ssi.GetItem(ctx.Request().Context(), request)
	if err != nil {
		return err
	}

	return response.VisitGetItemResponseObject(ctx.Response().Writer)
}

// CreateResource handles POST /resources
func (h *StrictEchoHandler) CreateResource(ctx echo.Context) error {
	var request CreateResourceRequestObject
	var body NewResource
	if err := ctx.Bind(&body); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, err.Error())
	}
	request.Body = body

	response, err := h.ssi.CreateResource(ctx.Request().Context(), request)
	if err != nil {
		return err
	}

	return response.VisitCreateResourceResponseObject(ctx.Response().Writer)
}

// DeleteResource handles DELETE /resources/{id}
func (h *StrictEchoHandler) DeleteResource(ctx echo.Context) error {
	var request DeleteResourceRequestObject
	request.ID = ctx.Param("id")

	response, err := h.ssi.DeleteResource(ctx.Request().Context(), request)
	if err != nil {
		return err
	}

	return response.VisitDeleteResourceResponseObject(ctx.Response().Writer)
}

// GetSession handles GET /session
func (h *StrictEchoHandler) GetSession(ctx echo.Context) error {

	response, err := h.ssi.GetSession(ctx.Request().Context())
	if err != nil {
		return err
	}

	return response.VisitGetSessionResponseObject(ctx.Response().Writer)
}

// GetSecureData handles GET /secure/data
func (h *StrictEchoHandler) GetSecureData(ctx echo.Context) error {

	response, err := h.ssi.GetSecureData(ctx.Request().Context())
	if err != nil {
		return err
	}

	return response.VisitGetSecureDataResponseObject(ctx.Response().Writer)
}

// CreateShape handles POST /shapes
func (h *StrictEchoHandler) CreateShape(ctx echo.Context) error {
	var request CreateShapeRequestObject
	var body Shape
	if err := ctx.Bind(&body); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, err.Error())
	}
	request.Body = body

	response, err := h.ssi.CreateShape(ctx.Request().Context(), request)
	if err != nil {
		return err
	}

	return response.VisitCreateShapeResponseObject(ctx.Response().Writer)
}

// RegisterStrictHandlers registers all strict handlers with the Echo instance.
func RegisterStrictHandlers(router Router, ssi StrictServerInterface) {
	h := NewStrictHandler(ssi)

	router.POST("/echo/json", h.EchoJSON)
	router.POST("/echo/form", h.EchoForm)
	router.POST("/echo/multipart", h.EchoMultipart)
	router.GET("/items/:id", h.GetItem)
	router.POST("/resources", h.CreateResource)
	router.DELETE("/resources/:id", h.DeleteResource)
	router.GET("/session", h.GetSession)
	router.GET("/secure/data", h.GetSecureData)
	router.POST("/shapes", h.CreateShape)
}

// RegisterStrictHandlersWithBaseURL registers all strict handlers with a base URL.
func RegisterStrictHandlersWithBaseURL(router Router, ssi StrictServerInterface, baseURL string) {
	h := NewStrictHandler(ssi)

	router.POST(baseURL+"/echo/json", h.EchoJSON)
	router.POST(baseURL+"/echo/form", h.EchoForm)
	router.POST(baseURL+"/echo/multipart", h.EchoMultipart)
	router.GET(baseURL+"/items/:id", h.GetItem)
	router.POST(baseURL+"/resources", h.CreateResource)
	router.DELETE(baseURL+"/resources/:id", h.DeleteResource)
	router.GET(baseURL+"/session", h.GetSession)
	router.GET(baseURL+"/secure/data", h.GetSecureData)
	router.POST(baseURL+"/shapes", h.CreateShape)
}
