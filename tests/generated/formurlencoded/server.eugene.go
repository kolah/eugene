// Code generated by eugene. DO NOT EDIT.
package gen

import (
	"net/http"

	"github.com/labstack/echo/v4"
)

type LoginFormRequest struct {
	Username   string   `form:"username"`
	Password   string   `form:"password"`
	RememberMe string   `form:"remember_me"`
	Scopes     []string `form:"scopes"`
}

type ServerInterface interface {
	// Login
	Login(ctx echo.Context, req LoginFormRequest) error
}

type ServerInterfaceWrapper struct {
	Handler ServerInterface
}

func (w *ServerInterfaceWrapper) Login(ctx echo.Context) error {
	var req LoginFormRequest
	if err := ctx.Request().ParseForm(); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, "failed to parse form")
	}
	req.Username = ctx.FormValue("username")
	req.Password = ctx.FormValue("password")
	req.RememberMe = ctx.FormValue("remember_me")
	req.Scopes = ctx.Request().Form["scopes"]
	return w.Handler.Login(ctx, req)
}

func RegisterHandlers(router Router, si ServerInterface) {
	wrapper := &ServerInterfaceWrapper{Handler: si}

	router.POST("/login", wrapper.Login)
}

func RegisterHandlersWithBaseURL(router Router, si ServerInterface, baseURL string) {
	wrapper := &ServerInterfaceWrapper{Handler: si}

	router.POST(baseURL+"/login", wrapper.Login)
}
