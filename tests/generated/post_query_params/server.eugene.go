// Code generated by eugene. DO NOT EDIT.
package gen

import (
	"net/http"

	"github.com/labstack/echo/v4"
)

type SearchItemsQueryParams struct {
	Q     string `query:"q"`
	Limit *int   `query:"limit"`
}

type CreateSearchQueryParams struct {
	Q     string `query:"q"`
	Limit *int   `query:"limit"`
}

type ServerInterface interface {
	// SearchItems
	SearchItems(ctx echo.Context, params SearchItemsQueryParams) error
	// CreateSearch
	CreateSearch(ctx echo.Context, params CreateSearchQueryParams) error
}

type ServerInterfaceWrapper struct {
	Handler ServerInterface
}

func (w *ServerInterfaceWrapper) SearchItems(ctx echo.Context) error {
	var params SearchItemsQueryParams
	if err := (&echo.DefaultBinder{}).BindQueryParams(ctx, &params); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, "invalid query parameters")
	}
	return w.Handler.SearchItems(ctx, params)
}

func (w *ServerInterfaceWrapper) CreateSearch(ctx echo.Context) error {
	var params CreateSearchQueryParams
	if err := (&echo.DefaultBinder{}).BindQueryParams(ctx, &params); err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, "invalid query parameters")
	}
	return w.Handler.CreateSearch(ctx, params)
}

func RegisterHandlers(router Router, si ServerInterface) {
	wrapper := &ServerInterfaceWrapper{Handler: si}

	router.GET("/search", wrapper.SearchItems)
	router.POST("/search", wrapper.CreateSearch)
}

func RegisterHandlersWithBaseURL(router Router, si ServerInterface, baseURL string) {
	wrapper := &ServerInterfaceWrapper{Handler: si}

	router.GET(baseURL+"/search", wrapper.SearchItems)
	router.POST(baseURL+"/search", wrapper.CreateSearch)
}
