// Code generated by eugene. DO NOT EDIT.
package gen

import (
	"net/http"
)

type ServerInterface interface {
	// ListItems
	ListItems(w http.ResponseWriter, r *http.Request)
	// CreateItem
	CreateItem(w http.ResponseWriter, r *http.Request)
	// GetItem
	GetItem(w http.ResponseWriter, r *http.Request)
	// UpdateItem
	UpdateItem(w http.ResponseWriter, r *http.Request)
	// DeleteItem
	DeleteItem(w http.ResponseWriter, r *http.Request)
}

type ServerInterfaceWrapper struct {
	Handler ServerInterface
}

func (w *ServerInterfaceWrapper) ListItems(rw http.ResponseWriter, r *http.Request) {
	w.Handler.ListItems(rw, r)
}

func (w *ServerInterfaceWrapper) CreateItem(rw http.ResponseWriter, r *http.Request) {
	w.Handler.CreateItem(rw, r)
}

func (w *ServerInterfaceWrapper) GetItem(rw http.ResponseWriter, r *http.Request) {
	w.Handler.GetItem(rw, r)
}

func (w *ServerInterfaceWrapper) UpdateItem(rw http.ResponseWriter, r *http.Request) {
	w.Handler.UpdateItem(rw, r)
}

func (w *ServerInterfaceWrapper) DeleteItem(rw http.ResponseWriter, r *http.Request) {
	w.Handler.DeleteItem(rw, r)
}

func Handler(si ServerInterface) http.Handler {
	return HandlerWithOptions(si, StdlibServerOptions{})
}

type StdlibServerOptions struct {
	BaseURL     string
	Middlewares []func(http.Handler) http.Handler
}

func HandlerWithOptions(si ServerInterface, options StdlibServerOptions) http.Handler {
	mux := http.NewServeMux()
	wrapper := &ServerInterfaceWrapper{Handler: si}

	mux.HandleFunc("GET "+options.BaseURL+"/items", wrapper.ListItems)
	mux.HandleFunc("POST "+options.BaseURL+"/items", wrapper.CreateItem)
	mux.HandleFunc("GET "+options.BaseURL+"/items/{id}", wrapper.GetItem)
	mux.HandleFunc("PUT "+options.BaseURL+"/items/{id}", wrapper.UpdateItem)
	mux.HandleFunc("DELETE "+options.BaseURL+"/items/{id}", wrapper.DeleteItem)

	var handler http.Handler = mux
	for i := len(options.Middlewares) - 1; i >= 0; i-- {
		handler = options.Middlewares[i](handler)
	}

	return handler
}
