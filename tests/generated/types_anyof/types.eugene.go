// Code generated by eugene. DO NOT EDIT.
package gen

import (
	"encoding/json"
)

type TextSearch struct {
	Query string `json:"query"`
}

type IDSearch struct {
	Ids []string `json:"ids"`
}

type SearchCriteria struct {
	Type string          `json:"-"`
	Raw  json.RawMessage `json:"-"`
}

func (u *SearchCriteria) UnmarshalJSON(data []byte) error {
	u.Type = ""
	u.Raw = data
	return nil
}

func (u SearchCriteria) MarshalJSON() ([]byte, error) {
	return u.Raw, nil
}

func (u *SearchCriteria) AsTextSearch() (*TextSearch, error) {
	var v TextSearch
	if err := json.Unmarshal(u.Raw, &v); err != nil {
		return nil, err
	}
	return &v, nil
}

func (u *SearchCriteria) AsIDSearch() (*IDSearch, error) {
	var v IDSearch
	if err := json.Unmarshal(u.Raw, &v); err != nil {
		return nil, err
	}
	return &v, nil
}
